<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypted Terminal Puzzle</title>
    <style>
        body {
            background-color: #001011;
            color: #c3fcf1;
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            overflow: hidden;
        }

        .terminal {
            background-color: #001a1c;
            border: 2px solid #0f535d;
            border-radius: 3px;
            width: 800px;
            height: 500px;
            margin: 50px auto;
            box-shadow: 0 0 30px rgba(15, 83, 93, 0.3);
            position: relative;
            overflow: hidden;
        }

        .header {
            background: #002229;
            padding: 8px;
            border-bottom: 1px solid #0f535d;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .content {
            padding: 20px;
            height: calc(100% - 40px);
            overflow-y: auto;
            position: relative;
        }

        .prompt {
            color: #4af2e0;
            margin: 15px 0;
        }

        .cursor {
            display: inline-block;
            width: 8px;
            height: 15px;
            background-color: #4af2e0;
            animation: blink 1s infinite;
        }

        .hidden {
            color: transparent;
            cursor: pointer;
            position: relative;
        }

        .hidden:hover {
            color: #4af2e0;
            text-shadow: 0 0 10px #4af2e0;
        }

        .matrix {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0.1;
            z-index: -1;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        .glow {
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 5px #4af2e0; }
            to { text-shadow: 0 0 20px #4af2e0; }
        }

        #response {
            color: #ff5555;
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="terminal">
        <div class="header">
            <span>CRYPTIC TERMINAL v1.3.7</span>
            <span>CONNECTION: ENCRYPTED</span>
        </div>
        <div class="content" id="content">
            <canvas class="matrix" id="matrix"></canvas>
            <div class="prompt">> INITIALIZING SECURE CHANNEL...</div>
            <div class="prompt">> LOADING PUZZLE MODULE...</div>
            <div class="prompt glow">> FIND THE HIDDEN PATTERN</div>
            
            <div class="prompt">> SYSTEM FILES DETECTED:</div>
            <div class="prompt">[1] encrypted_data.bin</div>
            <div class="prompt">[2] security_logs.txt</div>
            <div class="prompt">[3] <span class="hidden" onclick="revealCode()">■■■■■■■</span></div>
            
            <div class="prompt">> MEMORY ANALYSIS:</div>
            <div class="prompt">48 65 78 20 63 6F 64 65 3A 20 32 34 38 35 31</div>
            
            <div class="prompt">> ENTER DECRYPTION KEY: 
                <input type="text" id="input" style="background:none; border:none; color:#4af2e0; outline:none; width:200px;">
                <span class="cursor"></span>
            </div>
            
            <div id="response"></div>
        </div>
    </div>

    <script>
        // Matrix background effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = 800;
        canvas.height = 500;

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
        const drops = Array(Math.floor(canvas.width/10)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 26, 28, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#0f535d';

            drops.forEach((drop, i) => {
                const char = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(char, i*10, drop*10);
                drops[i] = (drop*10 > canvas.height*Math.random()) ? 0 : drop+1;
            });
        }
        setInterval(drawMatrix, 100);

        // Puzzle logic
        function revealCode() {
            document.getElementById('response').innerHTML = 
                "> PARTIAL DECRYPTION: The key is hidden in plain sight";
            document.getElementById('response').style.display = 'block';
        }

        document.getElementById('input').addEventListener('keypress', function(e) {
            if(e.key === 'Enter') {
                const solution = 'AQUA';
                const attempt = this.value.trim().toUpperCase();
                
                if(attempt === solution) {
                    document.getElementById('response').innerHTML = 
                        "> DECRYPTION SUCCESSFUL!<br>" +
                        "> ACCESS GRANTED<br>" +
                        "> SECRET MESSAGE: \"The answer was in the water\"";
                    document.getElementById('response').style.color = '#4af2e0';
                } else {
                    document.getElementById('response').innerHTML = 
                        "> DECRYPTION FAILED - TRY AGAIN";
                    document.getElementById('response').style.color = '#ff5555';
                }
                this.value = '';
                document.getElementById('response').style.display = 'block';
            }
        });
    </script>
</body>
</html>
